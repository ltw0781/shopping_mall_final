<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/reset.css">
    <title>게시판 수정</title>
</head>

<body>
    <!-- ✅ Main Content -->
    <main id="main">
        <section id="board-section" class="container board-container">
            <div class="board-wrap inner">
                <h2 class="board-title">게시글 수정</h2>

                <form class="board-form" id="form" action="/boards/update" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="boardId" th:value="${board.boardId}">
                    <!-- 카테고리 -->
                    <div class="form-group">
                        <label for="category">카테고리</label>
                        <select id="category" name="category" class="form-control" th:value="*{category}">
                            <option value="공지사항" th:selected="${board.category == '공지사항'}">공지사항</option>
                            <option value="이벤트" th:selected="${board.category == '이벤트'}">이벤트</option>
                            <option value="리뷰" th:selected="${board.category == '리뷰'}">리뷰</option>
                            <option value="QnA" th:selected="${board.category == 'QnA'}">QnA</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <label for="title">제목</label>
                        <input type="text" id="title" name="title" th:value="${board.title}" required>
                    </div>
                    <div class="form-row">
                        <label for="writer">작성자</label>
                        <input type="text" id="writer" name="writer" th:value="${board.writer}" readonly>
                    </div>
                    <div class="form-row">
                        <label for="content">내용</label>
                        <textarea id="content" name="content" rows="10" required th:text="${board.content}"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">저장</button>
                        <button type="button" onclick="moveCancel()" class="btn btn-secondary">취소</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <script>

        // 👩‍💻 모델 객체를 자바스크립트로 가져오는 방법
        let boardId = "[[${board.boardId}]]"

        // 상세 화면 이동
        function moveCancel() {
            location.href = '/boards/read?boardId=' + boardId
        }


    </script>

</body>

</html>