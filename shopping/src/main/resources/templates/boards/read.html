<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="/css/reset.css"> -->
    <link rel="stylesheet" href="/css/style.css">
    <title>ê²Œì‹œíŒ ìƒì„¸</title>
</head>

<body>
    <!-- âœ… Main Content -->
    <main id="main">

        <div class="board-wrap inner">
            <div class="board-view">
                <form id="form" action="/boards/delete" method="post">
                    <input type="hidden" name="boardId" th:value="${board.boardId}">
                    <!-- ì œëª© -->
                    <div class="board-title">
                        <span class="meta-category">ì¹´í…Œê³ ë¦¬ : <span th:text="${board.category}"></span></span>
                    </div>
                    <!-- ë©”íƒ€ ì •ë³´ -->
                    <div class="view-head">
                        <h3 th:text="${board.title}"></h3>
                        <div class="meta">
                            <span th:text="|ì‘ì„±ì : ${board.userId}|"></span>
                            <span th:text="|ë“±ë¡ì¼ : ${#dates.format(board.createdAt, 'yyyy-MM-dd')}" |></span>
                            <span th:text="|ì¡°íšŒìˆ˜ : ${board.viewCount}|"></span>
                        </div>
                    </div>
                    <!-- ë³¸ë¬¸ ë‚´ìš© -->
                    <div class="view-body">
                        <p th:text="${board.content}"></p>
                    </div>
                    <!-- ë²„íŠ¼ ì˜ì—­ -->
                    <div class="board-btns">
                        <button type="button" onclick="moveUpdate()" class="btn btn-primary">ìˆ˜ì •</button>
                        <button type="button" onclick="moveList()" class="btn btn-secondary">ëª©ë¡</button>
                        <button type="button" onclick="actionDelete()" class="btn btn-secondary">ì‚­ì œ</button>
                    </div>
                </form>
            </div>

        </div>
    </main>

    <script>

        let form = document.getElementById('form')

        // ğŸ‘©â€ğŸ’» ëª¨ë¸ ê°ì²´ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•
        let boardId = "[[${board.boardId}]]"

        // ìˆ˜ì • í™”ë©´ ì´ë™
        function moveUpdate() {
            location.href = '/boards/update?boardId=' + boardId
        }

        // ì‚­ì œ ìš”ì²­
        function actionDelete() {
            let check = confirm('ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')
            if (check) {
                form.action = '/boards/delete'
                form.submit()
            }
        }

        // ëª©ë¡ í™”ë©´ ì´ë™
        function moveList() {
            location.href = '/boards/list'
        }
    </script>

</body>

</html>