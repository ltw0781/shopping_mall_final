<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê²Œì‹œíŒ ìƒì„¸</title>
</head>

<body>
    <!-- âœ… Main Content -->
    <main id="main">
            <h2 class="page-title">ê²Œì‹œê¸€ ìƒì„¸ë³´ê¸°</h2>

            <div class="board-detail-wrap">

                <form id="form" action="/boards/delete" method="post">
                    <input type="text" name="boardId" th:value="${board.boardId}">
                    <!-- ì¹´í…Œê³ ë¦¬ -->
                    <div class="board-category">
                        <span class="meta-category">ì¹´í…Œê³ ë¦¬ : <span th:text="${board.category}"></span></span>
                    </div>
                    <!-- ì œëª© -->
                    <div class="board-title">
                        <h3 th:text="${board.title}">ê²Œì‹œê¸€ ì œëª©ì…ë‹ˆë‹¤.</h3>
                    </div>
                    <!-- ë©”íƒ€ ì •ë³´ -->
                    <div class="board-meta">
                        <span class="meta-writer">ì‘ì„±ì: <strong th:text="${board.writer}">í™ê¸¸ë™</strong></span>
                        <span class="meta-date">ì‘ì„±ì¼: <span th:text="${#dates.format(board.createdAt, 'yyyy-MM-dd')}"></span></span>
                        <span class="meta-views">ì¡°íšŒìˆ˜: <span th:text="${board.viewCount}"></span></span>
                    </div>

                    <!-- êµ¬ë¶„ì„  -->
                    <hr class="divider">

                    <!-- ë³¸ë¬¸ ë‚´ìš© -->
                    <div class="board-content">
                        <p th:text="${board.content}"></p>
                    </div>

                    <!-- êµ¬ë¶„ì„  -->
                    <hr class="divider">

                    <!-- ë²„íŠ¼ ì˜ì—­ -->
                    <div class="board-btns">
                        <button type="button" onclick="moveList()">ëª©ë¡</button>
                        <button type="button" onclick="moveUpdate()">ìˆ˜ì •</button>
                        <button type="button" onclick="actionDelete()">ì‚­ì œ</button>
                    </div>
                </form>

            </div>
    </main>

    <script>

        let form = document.getElementById('form')

        // ğŸ‘©â€ğŸ’» ëª¨ë¸ ê°ì²´ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•
        let boardId = "[[${board.boardId}]]"

        // ìˆ˜ì • í™”ë©´ ì´ë™
        function moveUpdate() {
            location.href = '/boards/update?boardId=' + boardId
        }

        // ì‚­ì œ ìš”ì²­
        function actionDelete() {
            let check = confirm('ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')
            if (check) {
                form.action = '/boards/delete'
                form.submit()
            }
        }

        // ëª©ë¡ í™”ë©´ ì´ë™
        function moveList() {
            location.href = '/boards/list'
        }
    </script>

</body>

</html>